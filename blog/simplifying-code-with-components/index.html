<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.24.2"/><meta data-react-helmet="true" name="description" content="Unity is a component-based game engine. Without any context, &quot;component&quot; is a nebulous and vague term. Understanding what a component  is…"/><meta data-react-helmet="true" property="og:title" content="Simplifying Code with Components"/><meta data-react-helmet="true" property="og:description" content="Unity is a component-based game engine. Without any context, &quot;component&quot; is a nebulous and vague term. Understanding what a component  is…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:creator" content="Kitsune"/><meta data-react-helmet="true" name="twitter:title" content="Simplifying Code with Components"/><meta data-react-helmet="true" name="twitter:description" content="Unity is a component-based game engine. Without any context, &quot;component&quot; is a nebulous and vague term. Understanding what a component  is…"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><style data-href="/styles.e7a13cbcedd535ab3165.css" data-identity="gatsby-global-css">:root{--reach-skip-nav:1}[data-reach-skip-nav-link]{clip:rect(0 0 0 0);border:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}[data-reach-skip-nav-link]:focus{clip:auto;background:#fff;height:auto;left:10px;padding:1rem;position:fixed;top:10px;width:auto;z-index:1}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><title data-react-helmet="true">Simplifying Code with Components | Kitsune Cafe</title><link data-react-helmet="true" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inconsolata&amp;display=swap"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.documentElement.classList.add('theme-ui-' + mode);
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion="css-global prmyx4">body{--theme-ui-colors-text:#839496;--theme-ui-colors-background:#002b36;--theme-ui-colors-primary:#cb4b16;--theme-ui-colors-secondary:#b58900;--theme-ui-colors-highlight:#93a1a1;--theme-ui-colors-purple:hsl(290, 100%, 80%);--theme-ui-colors-muted:#073642;--theme-ui-colors-gray:hsl(210, 50%, 60%);--theme-ui-colors-heading:#dc322f;--theme-ui-colors-link:#b58900;--theme-ui-colors-accent:#073642;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}body.theme-ui-dark{--theme-ui-colors-background:#002b36;--theme-ui-colors-accent:#073642;--theme-ui-colors-highlight:#93a1a1;--theme-ui-colors-muted:#073642;}body.theme-ui-light{--theme-ui-colors-background:#fdf6e3;--theme-ui-colors-accent:#eee8d5;--theme-ui-colors-highlight:#586e75;--theme-ui-colors-muted:#93a1a1;}</style><style data-emotion="css-global 19x4q5a">*{box-sizing:border-box;}body{margin:0;font-family:"Inconsolata",system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;line-height:1.5;font-weight:400;overflow-y:scroll;overflow-x:hidden;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header><style data-emotion="css efdc4g">.css-efdc4g{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background-color:var(--theme-ui-colors-accent);text-transform:uppercase;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:50px;width:100%;border-bottom:1px;}</style><nav class="css-efdc4g"><style data-emotion="css q327xw">.css-q327xw{width:95%;max-width:856px;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}@media screen and (min-width: 40em){.css-q327xw{width:95%;}}@media screen and (min-width: 52em){.css-q327xw{width:95%;}}@media screen and (min-width: 64em){.css-q327xw{width:100%;}}</style><style data-emotion="css 1f3p3so">.css-1f3p3so{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:95%;max-width:856px;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}@media screen and (min-width: 40em){.css-1f3p3so{width:95%;}}@media screen and (min-width: 52em){.css-1f3p3so{width:95%;}}@media screen and (min-width: 64em){.css-1f3p3so{width:100%;}}</style><div class="css-1f3p3so"><style data-emotion="css 1teal8m">.css-1teal8m{-webkit-text-decoration:none;text-decoration:none;}</style><style data-emotion="css 11tng67">.css-11tng67{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary);-webkit-text-decoration:none;text-decoration:none;}.css-11tng67:hover{color:var(--theme-ui-colors-secondary);}</style><a class="css-11tng67" href="/">キツネの喫茶店</a><style data-emotion="css 1hzmz91">.css-1hzmz91{-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:end;justify-content:end;gap:8px;}@media screen and (min-width: 40em){.css-1hzmz91{gap:32px;}}.css-1hzmz91>*{-webkit-text-decoration:none;text-decoration:none;}</style><style data-emotion="css 1dguua8">.css-1dguua8{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:end;justify-content:end;gap:8px;}@media screen and (min-width: 40em){.css-1dguua8{gap:32px;}}.css-1dguua8>*{-webkit-text-decoration:none;text-decoration:none;}</style><div class="css-1dguua8"><style data-emotion="css 1q7xh3m">.css-1q7xh3m{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary);}.css-1q7xh3m:hover{color:var(--theme-ui-colors-secondary);}</style><a class="css-1q7xh3m" href="/"><span>01</span> Projects</a><a class="css-1q7xh3m" href="/blog/"><span>02</span> Blog</a><a class="css-1q7xh3m" href="/about/"><span>03</span> About</a></div></div></nav></header><div id="reach-skip-nav" data-reach-skip-nav-content=""></div><div><style data-emotion="css 1oy96gr">.css-1oy96gr{max-width:856px;width:100%;margin-left:auto;margin-right:auto;padding-left:16px;padding-right:16px;padding-top:32px;padding-bottom:32px;}</style><div class="css-1oy96gr"><style data-emotion="css 13xhtad">.css-13xhtad{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><style data-emotion="css oqdo9p">.css-oqdo9p{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-oqdo9p"><style data-emotion="css 6wajs7">.css-6wajs7{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><style data-emotion="css smjs78">.css-smjs78{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-gray);margin:0;margin-top:8px;margin-bottom:8px;border:0;border-bottom:1px solid;border:0;border-bottom:1px solid;border-color:var(--theme-ui-colors-muted);-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><hr class="css-smjs78"/><style data-emotion="css 1acjlja">.css-1acjlja{margin-left:8px;margin-right:8px;}</style><a href="https://twitter.com/kitsu_cafe" icon="/home/mochan/development/kitsunecafe.github.io/src/icons/twitter.svg" class="css-1acjlja"><style data-emotion="css 1qssie3">.css-1qssie3{fill:var(--theme-ui-colors-primary);}</style><svg height="24" width="24" class="css-1qssie3" role="img" viewBox="0 0 24 24"><title>Twitter</title><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg></a><a href="https://github.com/kitsunecafe" icon="/home/mochan/development/kitsunecafe.github.io/src/icons/github.svg" class="css-1acjlja"><svg height="24" width="24" class="css-1qssie3" role="img" viewBox="0 0 24 24"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a href="https://kitsunecafe.itch.io/" icon="/home/mochan/development/kitsunecafe.github.io/src/icons/itchdotio.svg" class="css-1acjlja"><svg height="24" width="24" class="css-1qssie3" role="img" viewBox="0 0 24 24"><title>Itch.io</title><path d="M3.13 1.338C2.08 1.96.02 4.328 0 4.95v1.03c0 1.303 1.22 2.45 2.325 2.45 1.33 0 2.436-1.102 2.436-2.41 0 1.308 1.07 2.41 2.4 2.41 1.328 0 2.362-1.102 2.362-2.41 0 1.308 1.137 2.41 2.466 2.41h.024c1.33 0 2.466-1.102 2.466-2.41 0 1.308 1.034 2.41 2.363 2.41 1.33 0 2.4-1.102 2.4-2.41 0 1.308 1.106 2.41 2.435 2.41C22.78 8.43 24 7.282 24 5.98V4.95c-.02-.62-2.082-2.99-3.13-3.612-3.253-.114-5.508-.134-8.87-.133-3.362 0-7.945.053-8.87.133zm6.376 6.477a2.74 2.74 0 0 1-.468.602c-.5.49-1.19.795-1.947.795a2.786 2.786 0 0 1-1.95-.795c-.182-.178-.32-.37-.446-.59-.127.222-.303.412-.486.59a2.788 2.788 0 0 1-1.95.795c-.092 0-.187-.025-.264-.052-.107 1.113-.152 2.176-.168 2.95v.005l-.006 1.167c.02 2.334-.23 7.564 1.03 8.85 1.952.454 5.545.662 9.15.663 3.605 0 7.198-.21 9.15-.664 1.26-1.284 1.01-6.514 1.03-8.848l-.006-1.167v-.004c-.016-.775-.06-1.838-.168-2.95-.077.026-.172.052-.263.052a2.788 2.788 0 0 1-1.95-.795c-.184-.178-.36-.368-.486-.59-.127.22-.265.412-.447.59a2.786 2.786 0 0 1-1.95.794c-.76 0-1.446-.303-1.948-.793a2.74 2.74 0 0 1-.468-.602 2.738 2.738 0 0 1-.463.602 2.787 2.787 0 0 1-1.95.794h-.16a2.787 2.787 0 0 1-1.95-.793 2.738 2.738 0 0 1-.464-.602zm-2.004 2.59v.002c.795.002 1.5 0 2.373.953.687-.072 1.406-.108 2.125-.107.72 0 1.438.035 2.125.107.873-.953 1.578-.95 2.372-.953.376 0 1.876 0 2.92 2.934l1.123 4.028c.832 2.995-.266 3.068-1.636 3.07-2.03-.075-3.156-1.55-3.156-3.025-1.124.184-2.436.276-3.748.277-1.312 0-2.624-.093-3.748-.277 0 1.475-1.125 2.95-3.156 3.026-1.37-.004-2.468-.077-1.636-3.072l1.122-4.027c1.045-2.934 2.545-2.934 2.92-2.934zM12 12.714c-.002.002-2.14 1.964-2.523 2.662l1.4-.056v1.22c0 .056.56.033 1.123.007.562.026 1.124.05 1.124-.008v-1.22l1.4.055C14.138 14.677 12 12.713 12 12.713z"></path></svg></a><a href="https://steamcommunity.com/id/samsamsamoyed" icon="/home/mochan/development/kitsunecafe.github.io/src/icons/steam.svg" class="css-1acjlja"><svg height="24" width="24" class="css-1qssie3" fill="#000000" viewBox="0 0 26 26"><path d="M 4.875 0 C 2.183594 0 0 2.183594 0 4.875 L 0 13.34375 L 5.0625 14.8125 C 5.992188 13.664063 7.40625 12.9375 9 12.9375 C 9.050781 12.9375 9.105469 12.9375 9.15625 12.9375 L 11.9375 9.0625 C 11.9375 9.039063 11.9375 9.023438 11.9375 9 C 11.9375 5.65625 14.652344 2.9375 18 2.9375 C 21.347656 2.9375 24.0625 5.65625 24.0625 9 C 24.0625 12.347656 21.347656 15.0625 18 15.0625 C 17.96875 15.0625 17.9375 15.0625 17.90625 15.0625 L 14.0625 17.84375 C 14.066406 17.894531 14.0625 17.949219 14.0625 18 C 14.0625 20.800781 11.800781 23.0625 9 23.0625 C 6.40625 23.0625 4.300781 21.109375 4 18.59375 L 0 17.4375 L 0 21.125 C 0 23.816406 2.183594 26 4.875 26 L 21.125 26 C 23.816406 26 26 23.816406 26 21.125 L 26 4.875 C 26 2.183594 23.816406 0 21.125 0 Z M 18 4.78125 C 15.675781 4.78125 13.78125 6.671875 13.78125 9 C 13.78125 11.328125 15.675781 13.21875 18 13.21875 C 20.324219 13.21875 22.21875 11.328125 22.21875 9 C 22.21875 6.671875 20.324219 4.78125 18 4.78125 Z M 18 6.0625 C 19.617188 6.0625 20.9375 7.382813 20.9375 9 C 20.9375 10.617188 19.617188 11.9375 18 11.9375 C 16.386719 11.9375 15.0625 10.617188 15.0625 9 C 15.0625 7.382813 16.386719 6.0625 18 6.0625 Z M 9 14.5625 C 8.175781 14.5625 7.4375 14.859375 6.84375 15.34375 L 9.375 16.0625 C 9.394531 16.066406 9.417969 16.089844 9.4375 16.09375 L 9.5 16.09375 C 10.351563 16.3125 10.96875 17.085938 10.96875 18 C 10.96875 19.085938 10.085938 19.96875 9 19.96875 C 8.792969 19.96875 8.59375 19.9375 8.40625 19.875 L 5.75 19.125 C 6.214844 20.480469 7.488281 21.4375 9 21.4375 C 10.90625 21.4375 12.4375 19.90625 12.4375 18 C 12.4375 16.09375 10.90625 14.5625 9 14.5625 Z"></path></svg></a><hr class="css-smjs78"/></div><main><article><header><style data-emotion="css 1fg8om0">.css-1fg8om0{font-family:inherit;font-weight:900;line-height:1.25;font-size:32px;letter-spacing:-0.03em;margin-top:16px;}@media screen and (min-width: 40em){.css-1fg8om0{font-size:48px;}}</style><h1 class="css-1fg8om0">Simplifying Code with Components</h1><style data-emotion="css rsra4b">.css-rsra4b{font-size:14px;margin-top:-16px;margin-bottom:16px;}</style><style data-emotion="css 1k7srsm">.css-1k7srsm{font-size:14px;margin-top:-16px;margin-bottom:16px;}</style><p class="css-1k7srsm">December 05, 2021</p></header><section><p class="css-0 ex695c02">Unity is a component-based game engine. Without any context, “component” is a nebulous and vague term. Understanding what a component <em class="css-0 ex695c02">is</em> becomes crucial to understanding Unity. In Unity’s <style data-emotion="css 9pxufa">.css-9pxufa{color:var(--theme-ui-colors-primary);}.css-9pxufa:hover{color:var(--theme-ui-colors-secondary);}</style><a href="https://docs.unity3d.com/Manual/Components.html" class="css-9pxufa ex695c02">Introduction to components</a>, they provide an unsatisfactory definition of a component.</p><style data-emotion="css ep97s1">.css-ep97s1{background-color:var(--theme-ui-colors-muted);padding-left:8px;}</style><blockquote class="css-ep97s1 ex695c02"><p class="css-0 ex695c02">Components define the behaviour of that GameObject.</p></blockquote><p class="css-0 ex695c02">While this is entirely accurate, especially within the context of Unity, it fails to provide a good idea of the fundamental concepts behind components.</p><style data-emotion="css 172krdm">.css-172krdm{font-family:inherit;font-weight:900;line-height:1.25;font-size:32px;letter-spacing:-0.03em;margin-top:16px;}@media screen and (min-width: 40em){.css-172krdm{font-size:48px;}}</style><style data-emotion="css uxbx0w">.css-uxbx0w{pointer-events:painted;font-family:inherit;font-weight:900;line-height:1.25;font-size:32px;letter-spacing:-0.03em;margin-top:16px;}.css-uxbx0w a{visibility:hidden;}.css-uxbx0w:hover a{visibility:visible;}@media screen and (min-width: 40em){.css-uxbx0w{font-size:48px;}}</style><h1 id="what-is-a-component" class="ex695c00 css-uxbx0w"><style data-emotion="css yixlj4">.css-yixlj4{margin-left:-20px;padding-right:4px;color:var(--theme-ui-colors-primary);}</style><a href="#what-is-a-component" aria-label="What is a component?" class="css-yixlj4"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What is a component?</h1><p class="css-0 ex695c02"><a href="https://gameprogrammingpatterns.com/component.html" class="css-9pxufa ex695c02">Game Programming Pattern</a>’s definition provides more insight into the purpose of a component.</p><blockquote class="css-ep97s1 ex695c02"><p class="css-0 ex695c02">Allow a single entity to span multiple domains without coupling the domains to each other.</p></blockquote><p class="css-0 ex695c02">Without reading further into the article, I find the definition sterile and hard to visualize. That said, I would highly recommend reading the rest article and the entirety of the book - it’s worth it!</p><p class="css-0 ex695c02">I’ll make an effort to define a component as well.</p><blockquote class="css-ep97s1 ex695c02"><p class="css-0 ex695c02">A component is a single, reusable domain behavior with an intuitive interface. </p></blockquote><p class="css-0 ex695c02">As much as possible, a component should attempt to focus on a single behavior within a single domain. It should have a clear and simple interface to allow its entity, other entities, and other components to interact with its behavior.</p><p class="css-0 ex695c02">I find that Unity’s <a href="https://docs.unity3d.com/ScriptReference/CharacterController.html" class="css-9pxufa ex695c02"><style data-emotion="css 4gll6b">.css-4gll6b{font-family:Menlo,monospace;color:var(--theme-ui-colors-secondary);background-color:var(--theme-ui-colors-muted);}</style><code class="css-4gll6b ex695c02">CharacterController</code></a> is an example of a good component. It exposes two public methods, <a href="https://docs.unity3d.com/ScriptReference/CharacterController.Move.html" class="css-9pxufa ex695c02"><code class="css-4gll6b ex695c02">Move(Vector3)</code></a> and <a href="https://docs.unity3d.com/ScriptReference/CharacterController.SimpleMove.html" class="css-9pxufa ex695c02"><code class="css-4gll6b ex695c02">SimpleMove(Vector3)</code></a>.</p><p class="css-0 ex695c02"><code class="css-4gll6b ex695c02">Move(Vector3 motion)</code> “supplies the movement of a GameObject with an attached CharacterController component.” It takes the desired movement vector and attempts to displace the GameObject to which it is attached. It makes no assumptions about gravity since different games have different requirements for gravity.</p><p class="css-0 ex695c02"><code class="css-4gll6b ex695c02">SimpleMove(Vector3 speed)</code> “moves the character with speed.” Speed is a movement vector — a direction and speed to move per second. This method <em class="css-0 ex695c02">does</em> make assumptions about gravity.</p><p class="css-0 ex695c02"><code class="css-4gll6b ex695c02">CharacterController</code> hides the complexity of ground collision, physics interactions, and movement interpolation. Additionally, the two methods hide or reveal certain complexities about how the component moves the character. Certain Unity-isms regarding Collision events notwithstanding, the interface is <em class="css-0 ex695c02">very</em> simple and obvious.</p><h1 id="when-should-i-create-a-new-component" class="ex695c00 css-uxbx0w"><a href="#when-should-i-create-a-new-component" aria-label="When should I create a new component?" class="css-yixlj4"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>When should I create a new component?</h1><p class="css-0 ex695c02">The obvious answer is whenever you need a new behavior. If you’re unsure, it is always possible and encouraged to review and refactor code to identify the need for abstractions like a new component.</p><p class="css-0 ex695c02">Using movement as an example again, should character rotation be part of the character movement component? The two often occur simultaneously and even rely on one another. It makes sense to combine rotation and displacement into the same behavior. There are likely cases where this may not be true, and in that instance, the developer should split them into separate components.</p><p class="css-0 ex695c02">Should jumping be included in the movement component? I can imagine many scenarios where an entity would need to move but not jump. In those cases, it makes sense to separate them into different components.</p><p class="css-0 ex695c02">I obviously won’t iterate every possible decision on whether or not I would personally separate a behavior into a new component. It’s important to make thoughtful decisions about your code architecture, similar to the examples above.</p><h1 id="making-a-movement-component" class="ex695c00 css-uxbx0w"><a href="#making-a-movement-component" aria-label="Making a movement component" class="css-yixlj4"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Making a movement component</h1><p class="css-0 ex695c02">Let’s use Unity’s <a href="https://docs.unity3d.com/ScriptReference/CharacterController.Move.html" class="css-9pxufa ex695c02"><code class="css-4gll6b ex695c02">CharacterController.Move</code></a> example.</p><style data-emotion="css 2a3tll">.css-2a3tll{font-family:Menlo,monospace;font-size:14px;padding:16px;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-muted);overflow:auto;}.css-2a3tll .comment,.css-2a3tll .prolog,.css-2a3tll .doctype,.css-2a3tll .cdata,.css-2a3tll .punctuation,.css-2a3tll .operator,.css-2a3tll .entity,.css-2a3tll .url{color:var(--theme-ui-colors-gray);}.css-2a3tll .comment{font-style:italic;}.css-2a3tll .property,.css-2a3tll .tag,.css-2a3tll .boolean,.css-2a3tll .number,.css-2a3tll .constant,.css-2a3tll .symbol,.css-2a3tll .deleted,.css-2a3tll .function,.css-2a3tll .class-name,.css-2a3tll .regex,.css-2a3tll .important,.css-2a3tll .variable{color:var(--theme-ui-colors-purple);}.css-2a3tll .atrule,.css-2a3tll .attr-value,.css-2a3tll .keyword{color:var(--theme-ui-colors-primary);}.css-2a3tll .selector,.css-2a3tll .attr-name,.css-2a3tll .string,.css-2a3tll .char,.css-2a3tll .builtin,.css-2a3tll .inserted{color:var(--theme-ui-colors-secondary);}.css-2a3tll code{color:inherit;}</style><style data-emotion="css leub5n">.css-leub5n{font-family:Menlo,monospace;color:var(--theme-ui-colors-secondary);font-size:14px;}</style><style data-emotion="css p9gx2w">.css-p9gx2w{font-family:Menlo,monospace;font-size:14px;padding:16px;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-muted);overflow:auto;font-family:Menlo,monospace;color:var(--theme-ui-colors-secondary);font-size:14px;}.css-p9gx2w .comment,.css-p9gx2w .prolog,.css-p9gx2w .doctype,.css-p9gx2w .cdata,.css-p9gx2w .punctuation,.css-p9gx2w .operator,.css-p9gx2w .entity,.css-p9gx2w .url{color:var(--theme-ui-colors-gray);}.css-p9gx2w .comment{font-style:italic;}.css-p9gx2w .property,.css-p9gx2w .tag,.css-p9gx2w .boolean,.css-p9gx2w .number,.css-p9gx2w .constant,.css-p9gx2w .symbol,.css-p9gx2w .deleted,.css-p9gx2w .function,.css-p9gx2w .class-name,.css-p9gx2w .regex,.css-p9gx2w .important,.css-p9gx2w .variable{color:var(--theme-ui-colors-purple);}.css-p9gx2w .atrule,.css-p9gx2w .attr-value,.css-p9gx2w .keyword{color:var(--theme-ui-colors-primary);}.css-p9gx2w .selector,.css-p9gx2w .attr-name,.css-p9gx2w .string,.css-p9gx2w .char,.css-p9gx2w .builtin,.css-p9gx2w .inserted{color:var(--theme-ui-colors-secondary);}.css-p9gx2w code{color:inherit;}</style><pre class="language-cs ex695c00 prism-code language-cs css-p9gx2w"><div class="token-line"><span class="token keyword">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token namespace punctuation">.</span><span class="token namespace">Collections</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">using</span><span class="token plain"> </span><span class="token namespace">System</span><span class="token namespace punctuation">.</span><span class="token namespace">Collections</span><span class="token namespace punctuation">.</span><span class="token namespace">Generic</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">using</span><span class="token plain"> </span><span class="token namespace">UnityEngine</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><style data-emotion="css 13aqjzy">.css-13aqjzy{display:inline-block;}</style><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">public</span><span class="token plain"> </span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">Example</span><span class="token plain"> </span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token type-list class-name">MonoBehaviour</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">private</span><span class="token plain"> </span><span class="token class-name">CharacterController</span><span class="token plain"> controller</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">private</span><span class="token plain"> </span><span class="token class-name">Vector3</span><span class="token plain"> playerVelocity</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">private</span><span class="token plain"> </span><span class="token class-name keyword">bool</span><span class="token plain"> groundedPlayer</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">private</span><span class="token plain"> </span><span class="token class-name keyword">float</span><span class="token plain"> playerSpeed </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">2.0f</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">private</span><span class="token plain"> </span><span class="token class-name keyword">float</span><span class="token plain"> jumpHeight </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1.0f</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">private</span><span class="token plain"> </span><span class="token class-name keyword">float</span><span class="token plain"> gravityValue </span><span class="token operator">=</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">9.81f</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">private</span><span class="token plain"> </span><span class="token return-type class-name keyword">void</span><span class="token plain"> </span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        controller </span><span class="token operator">=</span><span class="token plain"> gameObject</span><span class="token punctuation">.</span><span class="token generic-method function">AddComponent</span><span class="token generic-method generic class-name punctuation">&lt;</span><span class="token generic-method generic class-name">CharacterController</span><span class="token generic-method generic class-name punctuation">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">    </span><span class="token return-type class-name keyword">void</span><span class="token plain"> </span><span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        groundedPlayer </span><span class="token operator">=</span><span class="token plain"> controller</span><span class="token punctuation">.</span><span class="token plain">isGrounded</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">groundedPlayer </span><span class="token operator">&amp;&amp;</span><span class="token plain"> playerVelocity</span><span class="token punctuation">.</span><span class="token plain">y </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            playerVelocity</span><span class="token punctuation">.</span><span class="token plain">y </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0f</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">        </span><span class="token class-name">Vector3</span><span class="token plain"> move </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span><span class="token plain">Input</span><span class="token punctuation">.</span><span class="token function">GetAxis</span><span class="token punctuation">(</span><span class="token string">&quot;Horizontal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> Input</span><span class="token punctuation">.</span><span class="token function">GetAxis</span><span class="token punctuation">(</span><span class="token string">&quot;Vertical&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        controller</span><span class="token punctuation">.</span><span class="token function">Move</span><span class="token punctuation">(</span><span class="token plain">move </span><span class="token operator">*</span><span class="token plain"> Time</span><span class="token punctuation">.</span><span class="token plain">deltaTime </span><span class="token operator">*</span><span class="token plain"> playerSpeed</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">move </span><span class="token operator">!=</span><span class="token plain"> Vector3</span><span class="token punctuation">.</span><span class="token plain">zero</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            gameObject</span><span class="token punctuation">.</span><span class="token plain">transform</span><span class="token punctuation">.</span><span class="token plain">forward </span><span class="token operator">=</span><span class="token plain"> move</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">        </span><span class="token comment">// Changes the height position of the player..</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">Input</span><span class="token punctuation">.</span><span class="token function">GetButtonDown</span><span class="token punctuation">(</span><span class="token string">&quot;Jump&quot;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> groundedPlayer</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            playerVelocity</span><span class="token punctuation">.</span><span class="token plain">y </span><span class="token operator">+=</span><span class="token plain"> Mathf</span><span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span><span class="token plain">jumpHeight </span><span class="token operator">*</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">3.0f</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> gravityValue</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">        playerVelocity</span><span class="token punctuation">.</span><span class="token plain">y </span><span class="token operator">+=</span><span class="token plain"> gravityValue </span><span class="token operator">*</span><span class="token plain"> Time</span><span class="token punctuation">.</span><span class="token plain">deltaTime</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        controller</span><span class="token punctuation">.</span><span class="token function">Move</span><span class="token punctuation">(</span><span class="token plain">playerVelocity </span><span class="token operator">*</span><span class="token plain"> Time</span><span class="token punctuation">.</span><span class="token plain">deltaTime</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre><p class="css-0 ex695c02">Although it’s not relevant, this example goes against Unity’s advice to not call <code class="css-4gll6b ex695c02">Move</code> or <code class="css-4gll6b ex695c02">SimpleMove</code> more than once per frame.</p><p class="css-0 ex695c02">One of the first things to notice about this component is that it crosses two domains: input and movement. Let’s start by separating those concerns.</p><style data-emotion="css rima3o">.css-rima3o{font-family:inherit;font-weight:700;line-height:1.25;font-size:32px;}.css-rima3o a{color:var(--theme-ui-colors-heading);}</style><style data-emotion="css 1k75wmc">.css-1k75wmc{pointer-events:painted;font-family:inherit;font-weight:700;line-height:1.25;font-size:32px;}.css-1k75wmc a{visibility:hidden;}.css-1k75wmc:hover a{visibility:visible;}.css-1k75wmc a{color:var(--theme-ui-colors-heading);}</style><h2 id="separating-concerns" class="ex695c00 css-1k75wmc"><a href="#separating-concerns" aria-label="Separating concerns" class="css-yixlj4"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Separating concerns</h2><pre class="language-cs ex695c00 prism-code language-cs css-p9gx2w"><div class="token-line"><span class="token keyword">public</span><span class="token plain"> </span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">InputProvider</span><span class="token plain"> </span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token type-list class-name">MonoBehaviour</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">public</span><span class="token plain"> </span><span class="token return-type class-name">Vector2</span><span class="token plain"> CurrentDirection </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token keyword">protected</span><span class="token plain"> </span><span class="token keyword">set</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">public</span><span class="token plain"> </span><span class="token return-type class-name keyword">bool</span><span class="token plain"> WantsToJump </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token keyword">protected</span><span class="token plain"> </span><span class="token keyword">set</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">private</span><span class="token plain"> </span><span class="token return-type class-name keyword">void</span><span class="token plain"> </span><span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    CurrentDirection </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Vector2</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      Input</span><span class="token punctuation">.</span><span class="token function">GetAxis</span><span class="token punctuation">(</span><span class="token string">&quot;Horizontal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      Input</span><span class="token punctuation">.</span><span class="token function">GetAxis</span><span class="token punctuation">(</span><span class="token string">&quot;Vertical&quot;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">    WantsToJump </span><span class="token operator">=</span><span class="token plain"> Input</span><span class="token punctuation">.</span><span class="token function">GetButton</span><span class="token punctuation">(</span><span class="token string">&quot;Jump&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre><p class="css-0 ex695c02">It doesn’t seem like much, but small components like this one help separate unrelated logic to make them more composable.
Let’s refactor the remaining example code.</p><p class="css-0 ex695c02">We’ll start by renaming the class and the file to <code class="css-4gll6b ex695c02">EntityMovement</code> and <code class="css-4gll6b ex695c02">EntityMovement.cs</code>.</p><pre class="language-cs ex695c00 prism-code language-cs css-p9gx2w"><div class="token-line"><span class="token keyword">public</span><span class="token plain"> </span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">EntityMovement</span><span class="token plain"> </span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token type-list class-name">MonoBehaviour</span></div></pre><p class="css-0 ex695c02">Now let’s add a reference to our new <code class="css-4gll6b ex695c02">PlayerInput</code> component.</p><pre class="language-cs ex695c00 prism-code language-cs css-p9gx2w"><div class="token-line"><span class="token keyword">public</span><span class="token plain"> </span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">EntityMovement</span><span class="token plain"> </span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token type-list class-name">MonoBehaviour</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">private</span><span class="token plain"> </span><span class="token class-name">InputProvider</span><span class="token plain"> input</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// ...</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">private</span><span class="token plain"> </span><span class="token return-type class-name keyword">void</span><span class="token plain"> </span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">//...</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    input </span><span class="token operator">=</span><span class="token plain"> gameObject</span><span class="token punctuation">.</span><span class="token generic-method function">GetComponent</span><span class="token generic-method generic class-name punctuation">&lt;</span><span class="token generic-method generic class-name">InputProvider</span><span class="token generic-method generic class-name punctuation">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span></div></pre><p class="css-0 ex695c02">With our reference to <code class="css-4gll6b ex695c02">InputProvider</code>, we can replace the existing <code class="css-4gll6b ex695c02">Input</code> references.</p><pre class="language-cs ex695c00 prism-code language-cs css-p9gx2w"><div class="token-line"><span class="token keyword">private</span><span class="token plain"> </span><span class="token return-type class-name keyword">void</span><span class="token plain"> </span><span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// ...</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token class-name">Vector3</span><span class="token plain"> move </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span><span class="token plain">input</span><span class="token punctuation">.</span><span class="token plain">CurrentDirection</span><span class="token punctuation">.</span><span class="token plain">x</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> input</span><span class="token punctuation">.</span><span class="token plain">CurrentDirection</span><span class="token punctuation">.</span><span class="token plain">y</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    controller</span><span class="token punctuation">.</span><span class="token function">Move</span><span class="token punctuation">(</span><span class="token plain">move </span><span class="token operator">*</span><span class="token plain"> Time</span><span class="token punctuation">.</span><span class="token plain">deltaTime </span><span class="token operator">*</span><span class="token plain"> playerSpeed</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">move </span><span class="token operator">!=</span><span class="token plain"> Vector3</span><span class="token punctuation">.</span><span class="token plain">zero</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        gameObject</span><span class="token punctuation">.</span><span class="token plain">transform</span><span class="token punctuation">.</span><span class="token plain">forward </span><span class="token operator">=</span><span class="token plain"> move</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">input</span><span class="token punctuation">.</span><span class="token plain">WantsToJump </span><span class="token operator">&amp;&amp;</span><span class="token plain"> groundedPlayer</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        playerVelocity</span><span class="token punctuation">.</span><span class="token plain">y </span><span class="token operator">+=</span><span class="token plain"> Mathf</span><span class="token punctuation">.</span><span class="token function">Sqrt</span><span class="token punctuation">(</span><span class="token plain">jumpHeight </span><span class="token operator">*</span><span class="token plain"> </span><span class="token operator">-</span><span class="token number">3.0f</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> gravityValue</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// ..</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span></div></pre><p class="css-0 ex695c02">Create a sphere with the <code class="css-4gll6b ex695c02">EntityMovement</code> and <code class="css-4gll6b ex695c02">InputProvider</code> components and move it with WASD or the arrow keys. It should operate like Unity’s <code class="css-4gll6b ex695c02">Example</code> component, but now we’ve separated input handling from movement!
Unfortunately, the changes we’ve made only illustrate the concept of splitting concerns without actually having done anything practical. What <em class="css-0 ex695c02">would</em> be useful is if these components were usable by more than the player character. Let’s refactor our code to make that possible.</p><h2 id="making-it-reusable" class="ex695c00 css-1k75wmc"><a href="#making-it-reusable" aria-label="Making it reusable" class="css-yixlj4"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Making it reusable</h2><p class="css-0 ex695c02">For our components to be reusable, <code class="css-4gll6b ex695c02">InputProvider</code> needs to act as a generic interface rather than a thin proxy to <code class="css-4gll6b ex695c02">Input</code>. An easy way to accomplish this would be to refactor <code class="css-4gll6b ex695c02">InputProvider</code> as a C# <code class="css-4gll6b ex695c02">interface</code>. Thankfully Unity’s <code class="css-4gll6b ex695c02">GetComponent</code> works with classes and interfaces. Be sure to remove <code class="css-4gll6b ex695c02">InputProvider</code> from the existing GameObject.</p><pre class="language-cs ex695c00 prism-code language-cs css-p9gx2w"><div class="token-line"><span class="token keyword">public</span><span class="token plain"> </span><span class="token keyword">interface</span><span class="token plain"> </span><span class="token class-name">InputProvider</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token return-type class-name">Vector2</span><span class="token plain"> CurrentDirection </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token return-type class-name keyword">bool</span><span class="token plain"> WantsToJump </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre><p class="css-0 ex695c02">A new component is required to implement the interface, <code class="css-4gll6b ex695c02">PlayerInputProvider</code>. It will contain the implementation details that previously lived in <code class="css-4gll6b ex695c02">InputProvider</code>.</p><pre class="language-cs ex695c00 prism-code language-cs css-p9gx2w"><div class="token-line"><span class="token keyword">public</span><span class="token plain"> </span><span class="token keyword">class</span><span class="token plain"> </span><span class="token class-name">PlayerInputProvider</span><span class="token plain"> </span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token type-list class-name">MonoBehaviour</span><span class="token type-list punctuation">,</span><span class="token type-list"> </span><span class="token type-list class-name">InputProvider</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">public</span><span class="token plain"> </span><span class="token return-type class-name">Vector2</span><span class="token plain"> CurrentDirection </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token keyword">protected</span><span class="token plain"> </span><span class="token keyword">set</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">public</span><span class="token plain"> </span><span class="token return-type class-name keyword">bool</span><span class="token plain"> WantsToJump </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token keyword">get</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token keyword">protected</span><span class="token plain"> </span><span class="token keyword">set</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">private</span><span class="token plain"> </span><span class="token return-type class-name keyword">void</span><span class="token plain"> </span><span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    CurrentDirection </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">Vector2</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      Input</span><span class="token punctuation">.</span><span class="token function">GetAxis</span><span class="token punctuation">(</span><span class="token string">&quot;Horizontal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      Input</span><span class="token punctuation">.</span><span class="token function">GetAxis</span><span class="token punctuation">(</span><span class="token string">&quot;Vertical&quot;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">    WantsToJump </span><span class="token operator">=</span><span class="token plain"> Input</span><span class="token punctuation">.</span><span class="token function">GetButton</span><span class="token punctuation">(</span><span class="token string">&quot;Jump&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre><p class="css-0 ex695c02">Attach <code class="css-4gll6b ex695c02">PlayerInputProvider</code> to the player object and ensure the character moves again. A future component could be <code class="css-4gll6b ex695c02">EnemyInputProvider</code> which determines movement based on a <code class="css-4gll6b ex695c02">NavMeshAgent</code>. </p></section></article></main><style data-emotion="css 1i8tjli">.css-1i8tjli{margin-top:32px;padding-top:16px;}</style><footer class="css-1i8tjli"><style data-emotion="css 1cech4o">.css-1cech4o{border:0;border-bottom:1px solid;border-color:var(--theme-ui-colors-muted);}</style><hr class="css-1cech4o"/><style data-emotion="css j6r63x">.css-j6r63x{margin-bottom:32px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><style data-emotion="css 4qwgaq">.css-4qwgaq{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:32px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-4qwgaq"><div class="css-1avyp1d"><p>- <!-- -->キツネ</p><p>if this helped you, consider buying me a coffee.</p><style data-emotion="css 1q7xh3m">.css-1q7xh3m{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary);}.css-1q7xh3m:hover{color:var(--theme-ui-colors-secondary);}</style><a href="https://ko-fi.com/H2H6270D0" target="_blank" class="css-1q7xh3m"><style data-emotion="css ul14yr">.css-ul14yr{border:0;height:36px;}</style><img height="36" src="https://cdn.ko-fi.com/cdn/kofi2.png?v=3" border="0" alt="Buy Me a Coffee at ko-fi.com" class="css-ul14yr"/></a></div></div><style data-emotion="css 11r1i3o">.css-11r1i3o{-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;list-style:none;padding:0;}</style><style data-emotion="css 1f60bjx">.css-1f60bjx{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;list-style:none;padding:0;}</style><ul class="css-1f60bjx"><li><style data-emotion="css 1rs3k8u">.css-1rs3k8u{color:var(--theme-ui-colors-primary);}.css-1rs3k8u:hover{color:var(--theme-ui-colors-secondary);}</style><a as="[object Object]" to="/blog/simplifying-code-with-components/" rel="prev" class="css-1rs3k8u">← <!-- -->Simplifying Code with Components</a></li><li><a as="[object Object]" to="/blog/convenient-unity-attributes/" rel="next" class="css-1rs3k8u">Convenient Unity Attributes<!-- --> →</a></li></ul></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/simplifying-code-with-components/";window.___webpackCompilationHash="20bc7faf4722f2114737";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-888ae54f1a0d020761b8.js"],"app":["/app-41674174b246cff3a58d.js"],"component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js":["/component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js-5b573022e6e9327f6d59.js"],"component---node-modules-gatsby-theme-blog-core-src-templates-posts-query-js":["/component---node-modules-gatsby-theme-blog-core-src-templates-posts-query-js-915cc0749bf5cbab9963.js"],"component---src-pages-about-js":["/component---src-pages-about-js-2c0fc266d000c105508d.js"],"component---src-pages-index-js":["/component---src-pages-index-js-697cdd20d366a597286d.js"]};/*]]>*/</script><script src="/polyfill-888ae54f1a0d020761b8.js" nomodule=""></script><script src="/app-41674174b246cff3a58d.js" async=""></script><script src="/framework-9efdcca4902421906150.js" async=""></script><script src="/webpack-runtime-66ca648bd9ea1899ebd9.js" async=""></script></body></html>